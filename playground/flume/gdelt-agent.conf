# Componentes
GDELTAgent.sources = GDELTDir
GDELTAgent.channels = archivo
GDELTAgent.sinks = GDELTKiteDS

# Canal
#GDELTAgent.channels.archivo.type = file
#GDELTAgent.channels.archivo.checkpointDir = /home/itam/localhost/playground/data/spool/log/checkpoint/
#GDELTAgent.channels.archivo.dataDirs = /home/itam/localhost/playground/data/spool/log/data/
GDELTAgent.channels.archivo.type = memory
#GDELTAgent.channels.archivo.checkpointDir = /home/itam/localhost/playground/data/spool/log/checkpoint/
#GDELTAgent.channels.archivo.dataDirs = /home/itam/localhost/playground/data/spool/log/data/
GDELTAgent.channels.archivo.capacity = 20000000

# Fuente
GDELTAgent.sources.GDELTDir.type = spooldir
GDELTAgent.sources.GDELTDir.channels = archivo
GDELTAgent.sources.GDELTDir.spoolDir = /home/itam/localhost/playground/data/spool
GDELTAgent.sources.GDELTDir.fileHeader = true
GDELTAgent.sources.GDELTDir.deletePolicy = immediate

# Interceptor
GDELTAgent.sources.GDELTDir.interceptors = attach-schema morphline

GDELTAgent.sources.GDELTDir.interceptors.attach-schema.type = static
GDELTAgent.sources.GDELTDir.interceptors.attach-schema.key = flume.avro.schema.url
GDELTAgent.sources.GDELTDir.interceptors.attach-schema.value = file:/home/itam/localhost/playground/data/schema/gdelt.avsc

GDELTAgent.sources.GDELTDir.interceptors.morphline.type = org.apache.flume.sink.solr.morphline.MorphlineInterceptor$Builder
GDELTAgent.sources.GDELTDir.interceptors.morphline.morphlineFile = /home/itam/localhost/playground/flume/morphline.conf
GDELTAgent.sources.GDELTDir.interceptors.morphline.morphlineId = convertGDELTFileToAvro


# Sumidero
GDELTAgent.sinks.GDELTKiteDS.type = org.apache.flume.sink.kite.DatasetSink
GDELTAgent.sinks.GDELTKiteDS.channel = archivo
GDELTAgent.sinks.GDELTKiteDS.kite.dataset.uri = dataset:hive://0.0.0.0:9083/gdelt
GDELTAgent.sinks.GDELTKiteDS.kite.dataset.name = gdelt
GDELTAgent.sinks.GDELTKiteDS.kite.batchSize = 10
